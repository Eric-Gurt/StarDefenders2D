<html>
    <head>
	<title>Star Defenders - free multiplayer sandbox game</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<meta name="title" content="Play Star Defenders">
	<meta name="description" content="Star Defenders is a free multiplayer sandbox game. Fight alien creatures from unknown realms alongside friends you'll definitely make here!">
	<meta name="keywords" content="game, play, sandbox, real-time, fast-paced, side-scrolling, Star Defenders, free, free-to-play, open-source, game like Minecraft, game like Terraria, game like Moonbase Alpha, game like Doom, host your own server, expedition, Mars, space, depressed astronauts, TTS, text-to-speech, multiplayer, HTML5, WebGL, creative, interesting">
	<meta name="robots" content="index, follow">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="language" content="English">
	<meta name="revisit-after" content="30 days">
	<link rel="stylesheet" href="style.css">
    </head>
    <body>
	<script src="client/sdErrorReporter.js"></script>
	<script src="https://player.twitch.tv/js/embed/v1.js"></script>
	<div id="twitch_player_div"></div>
	<div id="youtube_player_div"></div>
	<script>
	    
	    globalThis.twitch_player_div = document.getElementById( 'twitch_player_div' );
	    globalThis.youtube_player_div = document.getElementById( 'youtube_player_div' );
	    {
		let twitch_player = null;
		let youtube_player = null;
		
		let twitch_player_load_callback = null;
		let youtube_player_load_callback = null;
		
		let twitch_loaded = false;
		let youtube_loaded = false;
		
		let player_volume = 0.01;
		
		globalThis.SetPlayerVolume = ( v )=>
		{
		    if ( v !== player_volume )
		    {
			player_volume = v;

			if ( twitch_loaded )
			twitch_player.setVolume( v );
		    
			if ( youtube_loaded )
			youtube_player.setVolume( v * 100 );
		    }
		};
		globalThis.RequireTwitchPlayerAndDo = ( cb )=>
		{
		    if ( twitch_loaded )
		    {
			cb( twitch_player );
		    }
		    else
		    {
			twitch_player_load_callback = cb;

			if ( !twitch_player )
			{
			    twitch_player = new Twitch.Player( "twitch_player_div", {
				width: 600, // 128 / 64 * 300, // 400,
				height: 300, // 64 / 64 * 300,

				video: '1031472157', // Plazma Burst 2 in 46:08 by xCape

				//parent: [ window.location.href.split('/').slice( 2, 3 ).join('/') ], ports don't work
				parent: [ window.location.hostname ],
				muted: true
			    });

			    twitch_player.addEventListener( Twitch.Player.READY, ()=>
			    {
				twitch_player.disableCaptions();
				twitch_player.setVolume( player_volume );
				twitch_player.setMuted( false );

				twitch_loaded = true;

				//twitch_player.setChannel( 'monstercat' );
				if ( twitch_player_load_callback )
				{
				    twitch_player_load_callback( twitch_player );
				    twitch_player_load_callback = null;
				}
			    });
			}
		    }
		};
		globalThis.RequireYoutubePlayerAndDo = ( cb )=>
		{
		    if ( youtube_loaded )
		    {
			cb( youtube_player );
		    }
		    else
		    {
			// Load the IFrame Player API code asynchronously.
			var tag = document.createElement('script');
			tag.src = "https://www.youtube.com/player_api";
			var firstScriptTag = document.getElementsByTagName('script')[0];
			firstScriptTag.parentNode.insertBefore( tag, firstScriptTag );

			// Replace the 'ytplayer' element with an <iframe> and
			// YouTube player after the API code downloads.
			globalThis.onYouTubePlayerAPIReady = ()=>
			{
			    youtube_player = new YT.Player( 'youtube_player_div', 
			    {
				width: '600',
				height: '300',
				videoId: 'null', // 'M7lc1UVf-VE',
				autoplay: '0',
				controls: '0',
				disablekb: '1',
				enablejsapi: '1',
				modestbranding: '1',
				origin: window.location.hostname,
				events: {
				    'onReady': onPlayerReady
				    //'onStateChange': onPlayerStateChange
				  }

			    });
			    
			    function onPlayerReady()
			    {
				globalThis.youtube_player_div = document.getElementById( 'youtube_player_div' );
				
				youtube_player.mute();
				youtube_player.setVolume( player_volume );

				youtube_loaded = true;

				if ( youtube_player_load_callback )
				{
				    youtube_player_load_callback( youtube_player );
				    youtube_player_load_callback = null;
				}
			    }
			};
		    }
		};
	    }
	</script>

	<script src="socketio/socketio.js"></script>
	<script src="libs/three.js"></script>
	<script src="libs/three-examples/BufferGeometryUtils.js"></script>
	<script src="libs/three-examples/MeshLine.js"></script>
	<script type="text/javascript" src="mespeak/mespeak.js"></script>
	<script src="libs/howler.js.min.js"></script>
	<script src="client/sdTranslationManager.js" type="module"></script>
	<script src="client/sdMobileKeyboard.js" type="module"></script>
	<script src="game.js" type="module"></script>
	<div id="mobile_ui" style="display:none;z-index:100;position:fixed;left:0;top:0">
	    <!--
        	<span id="mobile_move_button" class="r_conteiner" style="
                position: fixed;
                left: 5vh;
                width: 30vh;
                height: 30vh;
                background-color: #ffffff0d;
                bottom: 5vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 30vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">Move</span>

<span id="mobile_reload_button" class="r_conteiner" style="
                position: fixed;
                right: 40%;
                width: 14vh;
                height: 14vh;
                background-color: #ffffff0d;
                bottom: 6vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 14vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">Reload</span>

<span id="mobile_1_button" class="r_conteiner" style="
                position: fixed;
                right: 49vh;
                width: 14vh;
                height: 14vh;
                background-color: #ffffff0d;
                bottom: 6vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 14vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">Pistol</span>
<span id="mobile_2_button" class="r_conteiner" style="
                position: fixed;
                right: 49vh;
                width: 14vh;
                height: 14vh;
                background-color: #ffffff0d;
                bottom: 24vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 14vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">Rifle</span>

<span id="mobile_3_button" class="r_conteiner" style="
                position: fixed;
                right: 41vh;
                width: 14vh;
                height: 14vh;
                background-color: #ffffff0d;
                bottom: 40vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 14vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">Shotgun</span>

<span id="mobile_4_button" class="r_conteiner" style="
                position: fixed;
                right: 24vh;
                width: 14vh;
                height: 14vh;
                background-color: #ffffff0d;
                bottom: 49vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 14vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">Sniper</span>

<span id="mobile_5_button" class="r_conteiner" style="
                position: fixed;
                right: 5vh;
                width: 14vh;
                height: 14vh;
                background-color: #ffffff0d;
                bottom: 48vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 14vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">RL</span>

            <span id="mobile_shoot_button" class="r_conteiner" style="
                position: fixed;
                right: 5vh;
                width: 40vh;
                height: 40vh;
                background-color: #ffffff0d;
                bottom: 5vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 40vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">Shoot</span>
            
            <span id="mobile_x_button" class="r_conteiner" style="
                position: fixed;
                right: 5vh;
                width: 14vh;
                height: 14vh;
                background-color: #ffffff0d;
                bottom: 70vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 14vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">Build</span>
	    
	    <span id="mobile_s_button" class="r_conteiner" style="
                position: fixed;
                right: 25vh;
                width: 14vh;
                height: 14vh;
                background-color: #ffffff0d;
                bottom: 70vh;
                border-radius: 20vh;
                text-align: center;
                line-height: 14vh;
                margin: 0px;
                padding: 0px;
                font-size: 3vh;
                color: #ffffff24;
            ">Sword</span>
	    -->
	</div>
	<div id="settings_container" style="
		position: fixed;
		top: 50%;
		left: 50%;
		margin-left: -300px;
		margin-top: -325px;
		display: block;
		background-color: black;
		width: 600px;
		height: 680px;
		color: white;
		padding: 20px;
		box-sizing: border-box;">
	    <div style="
    position: absolute;
    right: 20px;
    top: -50px;
    font-size: 30px;
    color: #2f2f2f;
    text-align: right;
    "><span style="color:#ffffff5e" id="game_title_text">...</span><br>
	    <div style="font-size:12px;color:#355a52;">v0.9</div></div>
	    
	    <div style="position: absolute; left: calc( 100% + 20px ); top:0; width: 300px; height: 100%;
		box-sizing: border-box; background-color: black;
		padding: 20px; overflow-y: auto;">
		<span class="sdtitle">What's new?:</span><br>
		<div class="sdgroup">
		    <a href="https://github.com/Eric-Gurt/StarDefenders2D/compare/8cf68ea5d2b18cd11f2f3855fb5e54353d5639fa...main">Open update & patch log on GitHub</a><br><br>
		    21 January 2021: First public release!
		</div>
		<br><br>
		<span class="sdtitle">Other servers:</span>
		<div class="sdgroup">
		    <a class="server serverA" href="http://localhost:3000">localhost:3000<div>your local server will be here<br>(contact us to appear in list)</div></a>
		    
		    <a class="server serverB" href="https://www.gevanni.com:3000">gevanni.com:3000<div>Europe, Ukraine<br>Main test server, core game in its' raw unchanged state</div></a>
		    <!--<a class="server serverB" href="https://www.gevanni.com:3001">gevanni.com:3001<div>Europe, Ukraine<br>Main server, combat allowed, no rules</div></a>-->
		    <!--<a class="server serverB" href="https://www.gevanni.com:3004">gevanni.com:3004<div>Europe, Ukraine<br>Combat arena</div></a>-->
		    <a class="server serverB" href="https://www.plazmaburst2.com:8443">plazmaburst2.com:8443<div>USA, California<br>Secondary server, no rules, only blue base shielding units<br>Hosted by Coolbuddy.com<br>since July 31, 2021</div></a>
		    
		    
		    
		    <a class="server serverC" href="https://stardefenders.io:3000">stardefenders.io:3000<div>Canada, Quebec<br>Active development<br>Hosted by mrmcshroom -- ULTRAWIDE<br>since March 27, 2021</div></a>
		    <a class="server serverC" href="https://stardefenders.io:3001">stardefenders.io:3001<div>Canada, Quebec<br>Active development<br>Hosted by mrmcshroom -- EASY<br>since March 27, 2021</div></a>
		    <a class="server serverC" href="https://stardefenders.io:3002">stardefenders.io:3002<div>Canada, Quebec<br>Active development<br>Hosted by mrmcshroom -- PEACEFUL<br>since March 27, 2021</div></a>
		    <a class="server serverC" href="https://stardefenders.io:4000">stardefenders.io:4000<div>Canada, Quebec<br>Active development<br>Hosted by mrmcshroom, managed by Booraz.<br>since September, 2022</div></a>
		    
		    <!--<a class="server serverC" href="#" onclick="confirm('This server is hosted by one of Star Defenders 2D players and thus we can not be fully responsible for any custom content you might find there.\n\nAdditonally your current IP address and thus approximate location might be known to server owner unless you have VPN enabled before proceeding.\n\nFeel free to report any abuse to https://twitter.com/Eric_Gurt \n\nPress OK to proceed')?window.location='https://darkclan.xyz:3000':null;">darkclan.xyz:3000<div>Canada, Quebec<br>Rare updates<br>Hosted by mrmcshroom<br>since March 27, 2021</div></a>-->
		</div>
	    </div>
	    
	    <div style="
		position: absolute;
		right: calc( 100% + 20px );
		top: calc( -75px - 10px );
		width: 300px;
		height: 75px;
		box-sizing: border-box;
		background-color: black;
		padding: 20px;
		">
		<span class="sdtitle">Language</span><span id="langs_container"></span>
		<div class="sdgroup">Some translations can be missing</div>
	    </div>
	    <div style="position: absolute; right: calc( 100% + 20px ); top:0; width: 300px; height: 100%;
		box-sizing: border-box; background-color: black;
		padding: 20px;">
		<span class="sdtitle">About Star Defenders:</span><br>
		<div class="sdgroup">
		    Star Defenders is a sandbox-based 2D game with slightly different approach than regular game in same genre would have.<br>
		    <br>
		    Tell your friends about it if you like what we do here!<br>
		    <br>
		    Game idea and development started by <a href="https://www.gevanni.com" target="_blank">Eric Gurt</a>, though there is much more people involved now - more on github where you can also <a href="https://github.com/Eric-Gurt/StarDefenders2D">participate in development</a>.<br>
		    <br>
		    Or even <a href="https://github.com/Eric-Gurt/StarDefenders2D/archive/main.zip">host your own Star Defenders 2D server</a><br>(future versions could be cross-connected with main server and redirect players from one server to another eventually, maybe server browser will be a thing soon too. <a href="https://raw.githubusercontent.com/Eric-Gurt/StarDefenders2D/main/How%20to%20start%20own%20server.txt">Check this file if you'll need more help</a>).<br>
		    <br>
		    This game is free to play and open source now. But we would be really happy if you will be able to host your own server and maybe even lead the more active development for the project. Feel free to discuss it at this <a href="https://discord.gg/rX4xEc2Y9E" target="_blank">Discord server</a> (we have much more now).<br>
		    <br>
		    This game requires at least Windows 10 (with Edge or Chrome browser for best experience). It can somewhat run on Android tablets/phones. It used to work on iPad too, maybe it still does, maybe it works even better now.<br>
		    <br>
		    If game freezes when tab is inactive - disable "<span style="color:#c1c1c1">Calculate window occlusion on Windows</span>" and "<span style="color:#c1c1c1">Enable sleeping tabs</span>" (optionally) by visiting "<span style="color:#c1c1c1">chrome://flags</span>".
		</div>
		<br>
		<span class="sdtitle">Links:</span><br>
		<div class="sdgroup">
		    <a href="https://www.gevanni.com/projects/StarDefenders2D/star-defenders-notificator-win.zip">Download Star Defenders notificator</a>
		</div>
	    </div>
		
	    <span class="sdtitle">Your name:</span><br>
	    <input type="text" id="hero_name" size="30" maxlength="30" value="Star Defender">
	    <br>
	    <br>
	     
	    <span class="sdtitle">Appearance:</span><br>
	    <input type="color" id="color_bright" value="#c0c0c0">
	    <label for="color_bright" mycondition="entity1">Helmet (bright shade)</label>
	    <label for="color_bright" mycondition="entity2">Body</label>
	    <br>
	    
	    <input type="color" id="color_dark" value="#808080" mycondition="entity1">
	    <label for="color_dark" mycondition="entity1" mycondition="entity1">Helmet (dark shade)</label>
	    <br mycondition="entity1">
	    
	    <input type="color" id="color_visor" value="#ff0000">
	    <label for="color_visor" mycondition="entity1">Visor</label>
	    <label for="color_visor" mycondition="entity2">Glowing parts</label>
	    <br>
	    
	    <!--<input type="color" id="color_splashy" value="#800000">
	    <label for="color_splashy">Splashy stuff</label>
	    <br>-->
	    
	    <input type="color" id="color_bright3" value="#c0c0c0" mycondition="entity1">
	    <label for="color_bright3" mycondition="entity1">Jetpack (bright shade)</label>
	    <br mycondition="entity1">
	    
	    <input type="color" id="color_dark3" value="#808080" mycondition="entity1">
	    <label for="color_dark3" mycondition="entity1">Jetpack and armor plates (dark shade)</label>
	    <br mycondition="entity1">
	    
	    <input type="color" id="color_suit" value="#000080" mycondition="entity1">
	    <label for="color_suit" mycondition="entity1">Upper suit color</label>
	    <br mycondition="entity1">
	    
	    <input type="color" id="color_suit2" value="#000080">
	    <label for="color_suit2" mycondition="entity1">Lower suit color</label>
	    <label for="color_suit2" mycondition="entity2">Details</label>
	    <br>
	    
	    <input type="color" id="color_dark2" value="#808080" mycondition="entity1">
	    <label for="color_dark2" mycondition="entity1">Lower suit armor plates</label>
	    <br mycondition="entity1">
	    
	    <input type="color" id="color_shoes" value="#000000" mycondition="entity1">
	    <label for="color_shoes" mycondition="entity1">Shoes</label>
	    <br mycondition="entity1">
	    
	    <input type="color" id="color_skin" value="#808000" mycondition="entity1">
	    <label for="color_skin" mycondition="entity1">Gloves &amp; neck color</label>
	    <br mycondition="entity1">
	    
	    <input type="color" id="color_extra1" value="#0000ff" mycondition="entity1">
	    <label for="color_extra1" mycondition="entity1">Extra 1</label>
	    <br mycondition="entity1">
	    
	    <br>
	    
	    <div class="set_block" tabindex="1">
		<span class="sdtitle">Play as</span><br>
		<input type="checkbox" id="entity1" value="1">
		<label for="entity1">Humanoid</label>
		<br>
		<input type="checkbox" id="entity2" value="1">
		<label for="entity2">Drone</label>
		<br>
		<input type="checkbox" id="entity3" value="1">
		<label for="entity3">Overlord</label>
	    </div>
	    
	    <div class="set_block" tabindex="1" mycondition="entity1">
		<span class="sdtitle">Start with</span><br>
		<input type="checkbox" id="start_with1" value="pistol_and_buildtool">
		<label for="start_with1">Pistol and build tool</label>
		<br>
		<input type="checkbox" id="start_with2" value="sword_and_buildtool" checked>
		<label for="start_with2">Sword and build tool</label>
		<br>
		<input type="checkbox" id="start_with3" value="shovel_and_buildtool">
		<label for="start_with3">Shovel and build tool</label>
	    </div>
	    
	    <!--
	    <div class="set_block" tabindex="1">
		Send microphone input as chat messages:<br>
		<input type="checkbox" id="voice_chat1" value="no" checked>
		<label for="voice_chat1">No</label>
		<br>
		<input type="checkbox" id="voice_chat2" value="yes" onclick="globalThis.StartVoiceRecognition()">
		<label for="voice_chat2">Yes (Chrome-only, delayed)</label>
	    </div>
	    -->
	    
	    <div class="set_block" tabindex="1">
		<span class="sdtitle">Assign instructor on start</span><br>
		<input type="checkbox" id="hints1" value="no">
		<label for="hints1">No</label>
		<br>
		<input type="checkbox" id="hints2" value="yes" checked>
		<label for="hints2">Yes</label>
	    </div>
	    
	    <div class="set_block" tabindex="1">
		<span class="sdtitle">Resolution downscaling</span><br>
		<!--<input type="checkbox" id="visuals1" value="no">
		<label for="visuals1">2D (old, unoptimized)</label>
		<br>
		<input type="checkbox" id="visuals2" value="yes" checked>
		<label for="visuals2">3D (GPU accelerated)</label>
		<br>
		<input type="checkbox" id="visuals3" value="yes">
		<label for="visuals3">3D+ (GPU accelerated)</label>
		<br>
		<input type="checkbox" id="visuals4" value="yes">
		<label for="visuals4">experimental: 3D++ (GPU accelerated and optimized)</label>
		<br>
		<br>-->
		<input type="checkbox" id="density1" value="no">
		<label for="density1">100%</label>
		<br>
		<input type="checkbox" id="density2" value="no">
		<label for="density2">50%</label>
		<br>
		<input type="checkbox" id="density3" value="no">
		<label for="density3">25%</label>
		
	    </div>

		<!--div class="set_block" tabindex="1">
		<span class="sdtitle">Dirt quality</span><br>
		<input type="checkbox" id="dirts1" value="no">
		<label for="dirts1">1x1 Dirt (low)</label>
		<br>
		<input type="checkbox" id="dirts2" value="yes">
		<label for="dirts2">4x4 Dirt (average)</label>
		<br>
		<input type="checkbox" id="dirts3" value="yes" checked>
		<label for="dirts3">8x8 Dirt (high)</label>
		</div-->
	    
	    <div class="set_block" tabindex="1" mycondition="entity2">
		<span class="sdtitle">Drone model</span><br>
		<input type="checkbox" id="drone_helmet1" value="1">
		<label for="drone_helmet1">Erthal</label>
		<br>
		<input type="checkbox" id="drone_helmet2" value="1">
		<label for="drone_helmet2">Container</label><!-- by Booraz -->
		<br>
		<input type="checkbox" id="drone_helmet3" value="1">
		<label for="drone_helmet3">Armored</label><!-- by GPU -->
		<br>
		<input type="checkbox" id="drone_helmet4" value="1">
		<label for="drone_helmet4">Slider</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet5" value="1">
		<label for="drone_helmet5">Oculus</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet6" value="1">
		<label for="drone_helmet6">Drake</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet7" value="1">
		<label for="drone_helmet7">Rover</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet8" value="1">
		<label for="drone_helmet8">Junky</label><!-- art by Booraz, idea by EG -->
		<br>
		<input type="checkbox" id="drone_helmet9" value="1">
		<label for="drone_helmet9">Harrier</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet10" value="1">
		<label for="drone_helmet10">Spirit</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet11" value="1">
		<label for="drone_helmet11">Ray</label><!-- by Silk1, edited by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet12" value="1">
		<label for="drone_helmet12">Vulture</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet13" value="1">
		<label for="drone_helmet13">Tracer</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet14" value="1">
		<label for="drone_helmet14">Latch</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet15" value="1">
		<label for="drone_helmet15">Transport</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet16" value="1">
		<label for="drone_helmet16">Haunt</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet17" value="1">
		<label for="drone_helmet17">Gothic</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet18" value="1">
		<label for="drone_helmet18">Raven</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet19" value="1">
		<label for="drone_helmet19">Conservator</label><!-- by LordBored -->
		<br>
		<input type="checkbox" id="drone_helmet20" value="1">
		<label for="drone_helmet20">Blaze</label><!-- by GPU -->
		<br>
		<input type="checkbox" id="drone_helmet21" value="1">
		<label for="drone_helmet21">Explorer</label><!-- by GPU -->
		<br>
		<input type="checkbox" id="drone_helmet22" value="1">
		<label for="drone_helmet22">Hunter</label><!-- by GPU -->
                <br>
		<input type="checkbox" id="drone_helmet23" value="1">
		<label for="drone_helmet23">Asp</label>
                <br>
		<input type="checkbox" id="drone_helmet24" value="1">
		<label for="drone_helmet24">Blight</label><!-- by GPU -->
                <br>
		<input type="checkbox" id="drone_helmet25" value="1">
		<label for="drone_helmet25">Droid</label><!-- by GPU -->
                <br>
		<input type="checkbox" id="drone_helmet26" value="1">
		<label for="drone_helmet26">Falkok</label>
                <br>
		<input type="checkbox" id="drone_helmet27" value="1">
		<label for="drone_helmet27">Float</label><!-- by GPU -->
                <br>
		<input type="checkbox" id="drone_helmet28" value="1">
		<label for="drone_helmet28">Future</label><!-- by GPU -->
                <br>
		<input type="checkbox" id="drone_helmet29" value="1">
		<label for="drone_helmet29">Shrimp</label><!-- by GPU -->
                <br>
		<input type="checkbox" id="drone_helmet30" value="1">
		<label for="drone_helmet30">Synergy</label><!-- by GPU -->
                <br>
		<input type="checkbox" id="drone_helmet31" value="1">
		<label for="drone_helmet31">Vector</label><!-- by GPU -->
                <br>
		<input type="checkbox" id="drone_helmet32" value="1">
		<label for="drone_helmet32">Archaic</label><!-- by LordBored -->
                <br>
		<input type="checkbox" id="drone_helmet33" value="1">
		<label for="drone_helmet33">Blades</label><!-- by LordBored -->
	    </div>
	    
	    <div class="set_block" tabindex="1" mycondition="entity1">
		<span class="sdtitle">Helmet</span><br>
		<input type="checkbox" id="helmet1" value="1">
		<label for="helmet1">Star Defender</label>
		<br>
		<input type="checkbox" id="helmet2" value="2">
		<label for="helmet2">Falkok</label>
		<br>
		<input type="checkbox" id="helmet3" value="3">
		<label for="helmet3">Eyes</label>
		<br>
		<input type="checkbox" id="helmet4" value="4">
		<label for="helmet4">Dino</label>
		<br>
		<input type="checkbox" id="helmet5" value="5">
		<label for="helmet5">V</label>
		<br>
		<input type="checkbox" id="helmet6" value="6">
		<label for="helmet6">Open</label>
		<br>
		<input type="checkbox" id="helmet7" value="7">
		<label for="helmet7">CS</label>
		<br>
		<input type="checkbox" id="helmet8" value="8">
		<label for="helmet8">Grub</label>
		<br>
		<input type="checkbox" id="helmet9" value="9">
		<label for="helmet9">Crow</label>
		<br>
		<input type="checkbox" id="helmet10" value="10">
		<label for="helmet10">Scope</label>
		<br>
		<input type="checkbox" id="helmet11" value="11">
		<label for="helmet11">Crusader</label>
		<br>
		<input type="checkbox" id="helmet12" value="12">
		<label for="helmet12">Phoenix Falkok</label>
		<br>
		<input type="checkbox" id="helmet13" value="13">
		<label for="helmet13">Aero</label>
		<br>
		<input type="checkbox" id="helmet14" value="14">
		<label for="helmet14">Scout</label>
		<br>
		<input type="checkbox" id="helmet15" value="15">
		<label for="helmet15">Heavy</label>
		<br>
		<input type="checkbox" id="helmet16" value="16">
		<label for="helmet16">Shade</label>
		<br>
		<input type="checkbox" id="helmet17" value="17">
		<label for="helmet17">Plasmator</label>
		<br>
		<input type="checkbox" id="helmet18" value="18">
		<label for="helmet18">Arbiter</label>
		<br>
		<input type="checkbox" id="helmet19" value="19">
		<label for="helmet19">Pilot</label>
		<br>
		<input type="checkbox" id="helmet20" value="20">
		<label for="helmet20">Guardian</label>
		<br>
		<input type="checkbox" id="helmet21" value="21">
		<label for="helmet21">Vanquisher</label>
		<br>
		<input type="checkbox" id="helmet22" value="22">
		<label for="helmet22">Glory</label>
		<br>
		<input type="checkbox" id="helmet23" value="23">
		<label for="helmet23">Scion</label>
       		<br>
		<input type="checkbox" id="helmet24" value="24">
		<label for="helmet24">Varia</label>
        	<br>
		<input type="checkbox" id="helmet25" value="25">
		<label for="helmet25">Array</label>
        	<br>
		<input type="checkbox" id="helmet26" value="26">
		<label for="helmet26">Nova</label>
		<br>
		<input type="checkbox" id="helmet27" value="27">
		<label for="helmet27">Igris</label>
		<br>
		<input type="checkbox" id="helmet28" value="28">
		<label for="helmet28">Ace</label>
		<br>
		<input type="checkbox" id="helmet29" value="29">
		<label for="helmet29">Alpha</label>
		<br>
		<input type="checkbox" id="helmet30" value="30">
		<label for="helmet30">Templar</label>
		<br>
		<input type="checkbox" id="helmet31" value="31">
		<label for="helmet31">Dragon</label>
		<br>
		<input type="checkbox" id="helmet32" value="32">
		<label for="helmet32">Agilus</label>
		<br>
		<input type="checkbox" id="helmet33" value="33">
		<label for="helmet33">Biohazard</label>
		<br>
		<input type="checkbox" id="helmet34" value="34">
		<label for="helmet34">Bulwark</label>
		<br>
		<input type="checkbox" id="helmet35" value="35">
		<label for="helmet35">Engineer</label>
		<br>
		<input type="checkbox" id="helmet36" value="36">
		<label for="helmet36">Forge</label>
		<br>
		<input type="checkbox" id="helmet37" value="37">
		<label for="helmet37">Harbinger</label>
		<br>
		<input type="checkbox" id="helmet38" value="38">
		<label for="helmet38">Legate</label>
		<br>
		<input type="checkbox" id="helmet39" value="39">
		<label for="helmet39">Lifter</label>
		<br>
		<input type="checkbox" id="helmet40" value="40">
		<label for="helmet40">Omega</label>
		<br>
		<input type="checkbox" id="helmet41" value="41">
		<label for="helmet41">Protector</label>
		<br>
		<input type="checkbox" id="helmet42" value="42">
		<label for="helmet42">Reaper</label>
		<br>
		<input type="checkbox" id="helmet43" value="43">
		<label for="helmet43">Researcher</label>
		<br>
		<input type="checkbox" id="helmet44" value="44">
		<label for="helmet44">Supreme</label>
		<br>
		<input type="checkbox" id="helmet45" value="45">
		<label for="helmet45">Spire</label>
		<br>
		<input type="checkbox" id="helmet46" value="46">
		<label for="helmet46">Walker</label>
		<br>
		<input type="checkbox" id="helmet47" value="47">
		<label for="helmet47">Acolyte</label>
		<br>
		<input type="checkbox" id="helmet48" value="48">
		<label for="helmet48">Archangel</label>
		<br>
		<input type="checkbox" id="helmet49" value="49">
		<label for="helmet49">Assault</label>
		<br>
		<input type="checkbox" id="helmet50" value="50">
		<label for="helmet50">Beast</label>
		<br>
		<input type="checkbox" id="helmet51" value="51">
		<label for="helmet51">Colonel</label>
		<br>
		<input type="checkbox" id="helmet52" value="52">
		<label for="helmet52">Cyber</label>
		<br>
		<input type="checkbox" id="helmet53" value="53">
		<label for="helmet53">Destiny</label>
		<br>
		<input type="checkbox" id="helmet54" value="54">
		<label for="helmet54">Duality</label>
		<br>
		<input type="checkbox" id="helmet55" value="55">
		<label for="helmet55">Flame</label>
		<br>
		<input type="checkbox" id="helmet56" value="56">
		<label for="helmet56">Hatred</label>
		<br>
		<input type="checkbox" id="helmet57" value="57">
		<label for="helmet57">Hunter</label>
		<br>
		<input type="checkbox" id="helmet58" value="58">
		<label for="helmet58">Judicator</label>
		<br>
		<input type="checkbox" id="helmet59" value="59">
		<label for="helmet59">Marauder</label>
		<br>
		<input type="checkbox" id="helmet60" value="60">
		<label for="helmet60">Medic</label>
		<br>
		<input type="checkbox" id="helmet61" value="61">
		<label for="helmet61">Overseer</label>
		<br>
		<input type="checkbox" id="helmet62" value="62">
		<label for="helmet62">Shocktrooper</label>
		<br>
		<input type="checkbox" id="helmet63" value="63">
		<label for="helmet63">Starfarer</label>
		<br>
		<input type="checkbox" id="helmet64" value="64">
		<label for="helmet64">Stream</label>
		<br>
		<input type="checkbox" id="helmet65" value="65">
		<label for="helmet65">Synth</label>
		<br>
		<input type="checkbox" id="helmet66" value="66">
		<label for="helmet66">Warden</label>
		<br>
		<input type="checkbox" id="helmet67" value="67">
		<label for="helmet67">Warlord</label>
		<br>
		<input type="checkbox" id="helmet68" value="68">
		<label for="helmet68">Sentinel</label>
		<br>
		<input type="checkbox" id="helmet69" value="69">
		<label for="helmet69">Skeleton</label>
		<br>
		<input type="checkbox" id="helmet70" value="70">
		<label for="helmet70">Rose</label>
		<br>
		<input type="checkbox" id="helmet71" value="71">
		<label for="helmet71">Avre</label>
		<br>
		<input type="checkbox" id="helmet72" value="72">
		<label for="helmet72">Spaghetti</label>
		<br>
		<input type="checkbox" id="helmet73" value="73">
		<label for="helmet73">Tactical Star Defender</label>
        	<br>
		<input type="checkbox" id="helmet74" value="74">
		<label for="helmet74">Vengeance</label>
        	<br>
		<input type="checkbox" id="helmet75" value="75">
		<label for="helmet75">Sovereign</label>
        	<br>
		<input type="checkbox" id="helmet76" value="76">
		<label for="helmet76">Oxide</label>
        	<br>
		<input type="checkbox" id="helmet77" value="77">
		<label for="helmet77">Mythic</label>
        	<br>
		<input type="checkbox" id="helmet78" value="78">
		<label for="helmet78">Outcast</label>
		<br>
		<input type="checkbox" id="helmet79" value="79">
		<label for="helmet79">Angel</label>
		<br>
		<input type="checkbox" id="helmet80" value="80">
		<label for="helmet80">Split visor</label>
		<br>
		<input type="checkbox" id="helmet81" value="81">
		<label for="helmet81">Soldier RIG</label>
		<br>
		<input type="checkbox" id="helmet82" value="82">
		<label for="helmet82">Witch</label>
		<br>
		<input type="checkbox" id="helmet83" value="83">
		<label for="helmet83">Modeus</label>
		<br>
		<input type="checkbox" id="helmet84" value="84">
		<label for="helmet84">Pepe</label>
		<br>
		<input type="checkbox" id="helmet85" value="85">
		<label for="helmet85">Santa</label>
		<br>
		<input type="checkbox" id="helmet86" value="86">
		<label for="helmet86">Velox</label>
		<br>
		<input type="checkbox" id="helmet87" value="87">
		<label for="helmet87">Apex</label>
		<br>
		<input type="checkbox" id="helmet88" value="88">
		<label for="helmet88">Advisor</label>
		<br>
		<input type="checkbox" id="helmet89" value="89">
		<label for="helmet89">Paradigm</label>
		<br>
		<input type="checkbox" id="helmet90" value="90">
		<label for="helmet90">Sync</label>
		<br>
		<input type="checkbox" id="helmet91" value="91">
		<label for="helmet91">Legend</label>
		<br>
		<input type="checkbox" id="helmet92" value="92">
		<label for="helmet92">SD Duster</label>
		<br>
		<input type="checkbox" id="helmet93" value="93">
		<label for="helmet93">Vengeance Alt</label>
		<br>
		<input type="checkbox" id="helmet94" value="94">
		<label for="helmet94">Bulwark Alt</label>
		<br>
		<input type="checkbox" id="helmet95" value="95">
		<label for="helmet95">Empyrean</label>
		<br>
		<input type="checkbox" id="helmet96" value="96">
		<label for="helmet96">Council</label>
                <br>
		<input type="checkbox" id="helmet97" value="97">
		<label for="helmet97">Android</label>
                <br>
		<input type="checkbox" id="helmet98" value="98">
		<label for="helmet98">Android Alt</label>
                <br>
		<input type="checkbox" id="helmet99" value="99">
		<label for="helmet99">Assassin</label>
                <br>
		<input type="checkbox" id="helmet100" value="100">
		<label for="helmet100">Automata</label>
                <br>
		<input type="checkbox" id="helmet101" value="101">
		<label for="helmet101">Automata Alt</label>
                <br>
		<input type="checkbox" id="helmet102" value="102">
		<label for="helmet102">Blackguard</label>
                <br>
		<input type="checkbox" id="helmet103" value="103">
		<label for="helmet103">Duelist</label>
                <br>
		<input type="checkbox" id="helmet104" value="104">
		<label for="helmet104">Monolith</label>
                <br>
		<input type="checkbox" id="helmet105" value="105">
		<label for="helmet105">Reaper Alt</label>
                <br>
		<input type="checkbox" id="helmet106" value="106">
		<label for="helmet106">Assassin Alt</label>
                <br>
		<input type="checkbox" id="helmet107" value="107">
		<label for="helmet107">Specialist</label>
                <br>
		<input type="checkbox" id="helmet108" value="108">
		<label for="helmet108">Spectre</label>
                <br>
		<input type="checkbox" id="helmet109" value="109">
		<label for="helmet109">Storm</label>
                <br>
		<input type="checkbox" id="helmet110" value="110">
		<label for="helmet110">Swole</label>
                <br>
		<input type="checkbox" id="helmet111" value="111">
		<label for="helmet111">Terminus</label>
                <br>
		<input type="checkbox" id="helmet112" value="112">
		<label for="helmet112">Titan</label>
                <br>
		<input type="checkbox" id="helmet113" value="113">
		<label for="helmet113">Terminus Alt</label>
                <br>
		<input type="checkbox" id="helmet114" value="114">
		<label for="helmet114">Versatile</label>
                <br>
		<input type="checkbox" id="helmet115" value="115">
		<label for="helmet115">Fixer</label>
                <br>
		<input type="checkbox" id="helmet116" value="116">
		<label for="helmet116">Fixer Alt</label>
	    </div>
	    
	    <div class="set_block" tabindex="1" mycondition="entity1">
		<span class="sdtitle">Body model</span><br>
		<input type="checkbox" id="body1" value="1">
		<label for="body1">Star Defender</label>
		<br>
		<input type="checkbox" id="body2" value="1">
		<label for="body2">Heavy</label>
		<br>
		<input type="checkbox" id="body3" value="1">
		<label for="body3">Tech</label>
		<br>
		<input type="checkbox" id="body4" value="1">
		<label for="body4">Templar</label>
		<br>
		<input type="checkbox" id="body5" value="1">
		<label for="body5">Inferno</label>
		<br>
		<input type="checkbox" id="body6" value="1">
		<label for="body6">Kevlar</label>
		<br>
		<input type="checkbox" id="body7" value="1">
		<label for="body7">Shade</label>
		<br>
		<input type="checkbox" id="body8" value="1">
		<label for="body8">Afterburn</label>
		<br>
		<input type="checkbox" id="body9" value="1">
		<label for="body9">Vanquisher</label>
		<br>
		<input type="checkbox" id="body10" value="1">
		<label for="body10">Glory</label>
		<br>
		<input type="checkbox" id="body11" value="1">
		<label for="body11">Scion</label>
        	<br>
		<input type="checkbox" id="body12" value="1">
		<label for="body12">Varia</label>
        	<br>
		<input type="checkbox" id="body13" value="1">
		<label for="body13">Array</label>
        	<br>
		<input type="checkbox" id="body14" value="1">
		<label for="body14">Nova</label>
        	<br>
		<input type="checkbox" id="body15" value="1">
		<label for="body15">Igris</label>
		<br>
		<input type="checkbox" id="body16" value="1">
		<label for="body16">Alpha</label>
		<br>
		<input type="checkbox" id="body17" value="1">
		<label for="body17">Agilus</label>
		<br>
		<input type="checkbox" id="body18" value="1">
		<label for="body18">Biohazard</label>
		<br>
		<input type="checkbox" id="body19" value="19">
		<label for="body19">Bulwark</label>
		<br>
		<input type="checkbox" id="body20" value="1">
		<label for="body20">Engineer</label>
		<br>
		<input type="checkbox" id="body21" value="1">
		<label for="body21">Forge</label>
		<br>
		<input type="checkbox" id="body22" value="1">
		<label for="body22">Harbinger</label>
		<br>
		<input type="checkbox" id="body23" value="1">
		<label for="body23">Legate</label>
		<br>
		<input type="checkbox" id="body24" value="1">
		<label for="body24">Lifter</label>
		<br>
		<input type="checkbox" id="body25" value="1">
		<label for="body25">Omega</label>
		<br>
		<input type="checkbox" id="body26" value="1">
		<label for="body26">Protector</label>
		<br>
		<input type="checkbox" id="body27" value="1">
		<label for="body27">Reaper</label>
		<br>
		<input type="checkbox" id="body28" value="1">
		<label for="body28">Researcher</label>
		<br>
		<input type="checkbox" id="body29" value="1">
		<label for="body29">Spire</label>
		<br>
		<input type="checkbox" id="body30" value="1">
		<label for="body30">Supreme</label>
		<br>
		<input type="checkbox" id="body31" value="1">
		<label for="body31">Walker</label>
		<br>
		<input type="checkbox" id="body32" value="1">
		<label for="body32">Castellan</label>
		<br>
		<input type="checkbox" id="body33" value="1">
		<label for="body33">Empyrean</label>
		<br>
		<input type="checkbox" id="body34" value="1">
		<label for="body34">Jumper</label>
		<br>
		<input type="checkbox" id="body35" value="1">
		<label for="body35">Matrix</label>
		<br>
		<input type="checkbox" id="body36" value="1">
		<label for="body36">Runner</label>
		<br>
		<input type="checkbox" id="body37" value="1">
		<label for="body37">Sovereign</label>
		<br>
		<input type="checkbox" id="body38" value="1">
		<label for="body38">Wyvern</label>
		<br>
		<input type="checkbox" id="body39" value="1">
		<label for="body39">Sentinel</label>
		<br>
		<input type="checkbox" id="body40" value="1">
		<label for="body40">Skeleton</label>
		<br>
		<input type="checkbox" id="body41" value="1">
		<label for="body41">Rose</label>
		<br>
		<input type="checkbox" id="body42" value="1">
		<label for="body42">Avre</label>
		<br>
		<input type="checkbox" id="body43" value="1">
		<label for="body43">Spaghetti</label>
     		<br>
		<input type="checkbox" id="body44" value="1">
		<label for="body44">Trooper</label>
        	<br>
		<input type="checkbox" id="body45" value="1">
		<label for="body45">Vengeance</label>
        	<br>
		<input type="checkbox" id="body46" value="1">
		<label for="body46">Arbiter</label>
        	<br>
		<input type="checkbox" id="body47" value="1">
		<label for="body47">Ranger</label>
        	<br>
		<input type="checkbox" id="body48" value="1">
		<label for="body48">Oxide</label>
        	<br>
		<input type="checkbox" id="body49" value="1">
		<label for="body49">Survivor</label>
        	<br>
		<input type="checkbox" id="body50" value="1">
		<label for="body50">Mythic</label>
        	<br>
		<input type="checkbox" id="body51" value="1">
		<label for="body51">Outcast</label>
		<br>
		<input type="checkbox" id="body52" value="1">
		<label for="body52">Amogus</label>
		<br>
		<input type="checkbox" id="body53" value="1">
		<label for="body53">Angel</label>
		<br>
		<input type="checkbox" id="body54" value="1">
		<label for="body54">Split visor</label>
		<br>
		<input type="checkbox" id="body55" value="1">
		<label for="body55">Legless</label>
		<br>
		<input type="checkbox" id="body56" value="1">
		<label for="body56">Soldier RIG</label>
		<br>
		<input type="checkbox" id="body57" value="1">
		<label for="body57">Witch</label>
		<br>
		<input type="checkbox" id="body58" value="1">
		<label for="body58">Modeus</label>
		<br>
		<input type="checkbox" id="body59" value="1">
		<label for="body59">Velox</label>
		<br>
		<input type="checkbox" id="body60" value="1">
		<label for="body60">Falkok</label>
		<br>
		<input type="checkbox" id="body61" value="1">
		<label for="body61">Apex</label>
		<br>
		<input type="checkbox" id="body62" value="1">
		<label for="body62">Advisor</label>
		<br>
		<input type="checkbox" id="body63" value="1">
		<label for="body63">Paradigm</label>
		<br>
		<input type="checkbox" id="body64" value="1">
		<label for="body64">Sync</label>
		<br>
		<input type="checkbox" id="body65" value="1">
		<label for="body65">SD Duster</label>
		<br>
		<input type="checkbox" id="body66" value="1">
		<label for="body66">Vengeance Alt</label>
		<br>
		<input type="checkbox" id="body67" value="1">
		<label for="body67">Bulwark Alt</label>
		<br>
		<input type="checkbox" id="body68" value="1">
		<label for="body68">Council</label>
		<br>
		<input type="checkbox" id="body69" value="1">
		<label for="body69">Android</label>
		<br>
		<input type="checkbox" id="body70" value="1">
		<label for="body70">Android Alt</label>
		<br>
		<input type="checkbox" id="body71" value="1">
		<label for="body71">Assassin</label>
		<br>
		<input type="checkbox" id="body72" value="1">
		<label for="body72">Automata</label>
		<br>
		<input type="checkbox" id="body73" value="1">
		<label for="body73">Automata Alt</label>
		<br>
		<input type="checkbox" id="body74" value="1">
		<label for="body74">Blackguard</label>
		<br>
		<input type="checkbox" id="body75" value="1">
		<label for="body75">Duelist</label>
		<br>
		<input type="checkbox" id="body76" value="1">
		<label for="body76">Monolith</label>
		<br>
		<input type="checkbox" id="body77" value="1">
		<label for="body77">Specialist</label>
		<br>
		<input type="checkbox" id="body78" value="1">
		<label for="body78">Spectre</label>
		<br>
		<input type="checkbox" id="body79" value="1">
		<label for="body79">Storm</label>
		<br>
		<input type="checkbox" id="body80" value="1">
		<label for="body80">Stream</label>
		<br>
		<input type="checkbox" id="body81" value="1">
		<label for="body81">Swole</label>
		<br>
		<input type="checkbox" id="body82" value="1">
		<label for="body82">Terminus</label>
		<br>
		<input type="checkbox" id="body83" value="1">
		<label for="body83">Titan</label>
		<br>
		<input type="checkbox" id="body84" value="1">
		<label for="body84">Versatile</label>
		<br>
		<input type="checkbox" id="body85" value="1">
		<label for="body85">Versatile Alt</label>
		<br>
		<input type="checkbox" id="body86" value="1">
		<label for="body86">Warlord</label>
		<br>
		<input type="checkbox" id="body87" value="1">
		<label for="body87">Fixer</label>
	    </div>
	    
	    <div class="set_block" tabindex="1" mycondition="entity1">
		<span class="sdtitle">Legs model</span><br>
		<input type="checkbox" id="legs1" value="1">
		<label for="legs1">Star Defender</label>
		<br>
		<input type="checkbox" id="legs2" value="1">
		<label for="legs2">Heavy</label>
		<br>
		<input type="checkbox" id="legs3" value="1">
		<label for="legs3">Tech</label>
		<br>
		<input type="checkbox" id="legs4" value="1">
		<label for="legs4">Templar</label>
		<br>
		<input type="checkbox" id="legs5" value="1">
		<label for="legs5">Inferno</label>
		<br>
		<input type="checkbox" id="legs6" value="1">
		<label for="legs6">Kevlar</label>
		<br>
		<input type="checkbox" id="legs7" value="1">
		<label for="legs7">Shade</label>
		<br>
		<input type="checkbox" id="legs8" value="1">
		<label for="legs8">Afterburn</label>
		<br>
		<input type="checkbox" id="legs9" value="1">
		<label for="legs9">Vanquisher</label>
		<br>
		<input type="checkbox" id="legs10" value="1">
		<label for="legs10">Glory</label>
		<br>
		<input type="checkbox" id="legs11" value="1">
		<label for="legs11">Scion</label>
       		<br>
		<input type="checkbox" id="legs12" value="1">
		<label for="legs12">Varia</label>
        	<br>
		<input type="checkbox" id="legs13" value="1">
		<label for="legs13">Array</label>
        	<br>
		<input type="checkbox" id="legs14" value="1">
		<label for="legs14">Nova</label>
        	<br>
		<input type="checkbox" id="legs15" value="1">
		<label for="legs15">Igris</label>
		<br>
		<input type="checkbox" id="legs16" value="1">
		<label for="legs16">Alpha</label>
		<br>
		<input type="checkbox" id="legs17" value="1">
		<label for="legs17">Agilus</label>
		<br>
		<input type="checkbox" id="legs18" value="1">
		<label for="legs18">Biohazard</label>
		<br>
		<input type="checkbox" id="legs19" value="19">
		<label for="legs19">Bulwark</label>
		<br>
		<input type="checkbox" id="legs20" value="1">
		<label for="legs20">Engineer</label>
		<br>
		<input type="checkbox" id="legs21" value="1">
		<label for="legs21">Forge</label>
		<br>
		<input type="checkbox" id="legs22" value="1">
		<label for="legs22">Harbinger</label>
		<br>
		<input type="checkbox" id="legs23" value="1">
		<label for="legs23">Legate</label>
		<br>
		<input type="checkbox" id="legs24" value="1">
		<label for="legs24">Lifter</label>
		<br>
		<input type="checkbox" id="legs25" value="1">
		<label for="legs25">Omega</label>
		<br>
		<input type="checkbox" id="legs26" value="1">
		<label for="legs26">Protector</label>
		<br>
		<input type="checkbox" id="legs27" value="1">
		<label for="legs27">Reaper</label>
		<br>
		<input type="checkbox" id="legs28" value="1">
		<label for="legs28">Researcher</label>
		<br>
		<input type="checkbox" id="legs29" value="1">
		<label for="legs29">Spire</label>
		<br>
		<input type="checkbox" id="legs30" value="1">
		<label for="legs30">Supreme</label>
		<br>
		<input type="checkbox" id="legs31" value="1">
		<label for="legs31">Walker</label>
		<br>
		<input type="checkbox" id="legs32" value="1">
		<label for="legs32">Castellan</label>
		<br>
		<input type="checkbox" id="legs33" value="1">
		<label for="legs33">Empyrean</label>
		<br>
		<input type="checkbox" id="legs34" value="1">
		<label for="legs34">Jumper</label>
		<br>
		<input type="checkbox" id="legs35" value="1">
		<label for="legs35">Matrix</label>
		<br>
		<input type="checkbox" id="legs36" value="1">
		<label for="legs36">Runner</label>
		<br>
		<input type="checkbox" id="legs37" value="1">
		<label for="legs37">Sovereign</label>
		<br>
		<input type="checkbox" id="legs38" value="1">
		<label for="legs38">Wyvern</label>
		<br>
		<input type="checkbox" id="legs39" value="1">
		<label for="legs39">Sentinel</label>
		<br>
		<input type="checkbox" id="legs40" value="1">
		<label for="legs40">Skeleton</label>
		<br>
		<input type="checkbox" id="legs41" value="1">
		<label for="legs41">Rose</label>
		<br>
		<input type="checkbox" id="legs42" value="1">
		<label for="legs42">Avre</label>
		<br>
		<input type="checkbox" id="legs43" value="1">
		<label for="legs43">Spaghetti</label>
        	<br>
		<input type="checkbox" id="legs44" value="1">
		<label for="legs44">Trooper</label>
        	<br>
		<input type="checkbox" id="legs45" value="1">
		<label for="legs45">Vengeance</label>
        	<br>
		<input type="checkbox" id="legs46" value="1">
		<label for="legs46">Arbiter</label>
        	<br>
		<input type="checkbox" id="legs47" value="1">
		<label for="legs47">Ranger</label>
        	<br>
		<input type="checkbox" id="legs48" value="1">
		<label for="legs48">Oxide</label>
        	<br>
		<input type="checkbox" id="legs49" value="1">
		<label for="legs49">Survivor</label>
        	<br>
		<input type="checkbox" id="legs50" value="1">
		<label for="legs50">Mythic</label>
        	<br>
		<input type="checkbox" id="legs51" value="1">
		<label for="legs51">Outcast</label>
		<br>
		<input type="checkbox" id="legs52" value="1">
		<label for="legs52">Amogus</label>
		<br>
		<input type="checkbox" id="legs53" value="1">
		<label for="legs53">Angel</label>
		<br>
		<input type="checkbox" id="legs54" value="1">
		<label for="legs54">Split visor</label>
		<br>
		<input type="checkbox" id="legs55" value="1">
		<label for="legs55">Legless</label>
		<br>
		<input type="checkbox" id="legs56" value="1">
		<label for="legs56">Soldier RIG</label>
		<br>
		<input type="checkbox" id="legs57" value="1">
		<label for="legs57">Witch</label>
		<br>
		<input type="checkbox" id="legs58" value="1">
		<label for="legs58">Modeus</label>
		<br>
		<input type="checkbox" id="legs59" value="1">
		<label for="legs59">Velox</label>
		<br>
		<input type="checkbox" id="legs60" value="1">
		<label for="legs60">Falkok</label>
		<br>
		<input type="checkbox" id="legs61" value="1">
		<label for="legs61">Apex</label>
		<br>
		<input type="checkbox" id="legs62" value="1">
		<label for="legs62">Advisor</label>
		<br>
		<input type="checkbox" id="legs63" value="1">
		<label for="legs63">Paradigm</label>
		<br>
		<input type="checkbox" id="legs64" value="1">
		<label for="legs64">Sync</label>
		<br>
		<input type="checkbox" id="legs65" value="1">
		<label for="legs65">SD Duster</label>
		<br>
		<input type="checkbox" id="legs66" value="1">
		<label for="legs66">Vengeance Alt</label>
		<br>
		<input type="checkbox" id="legs67" value="1">
		<label for="legs67">Bulwark Alt</label>
		<br>
		<input type="checkbox" id="legs68" value="1">
		<label for="legs68">Council</label>
		<br>
		<input type="checkbox" id="legs69" value="1">
		<label for="legs69">Android</label>
		<br>
		<input type="checkbox" id="legs70" value="1">
		<label for="legs70">Android Alt</label>
		<br>
		<input type="checkbox" id="legs71" value="1">
		<label for="leg71">Assassin</label>
		<br>
		<input type="checkbox" id="legs72" value="1">
		<label for="legs72">Automata</label>
		<br>
		<input type="checkbox" id="legs73" value="1">
		<label for="legs73">Automata Alt</label>
		<br>
		<input type="checkbox" id="legs74" value="1">
		<label for="legs74">Blackguard</label>
		<br>
		<input type="checkbox" id="legs75" value="1">
		<label for="legs75">Duelist</label>
		<br>
		<input type="checkbox" id="legs76" value="1">
		<label for="legs76">Monolith</label>
		<br>
		<input type="checkbox" id="legs77" value="1">
		<label for="legs77">Specialist</label>
		<br>
		<input type="checkbox" id="legs78" value="1">
		<label for="legs78">Spectre</label>
		<br>
		<input type="checkbox" id="legs79" value="1">
		<label for="legs79">Storm</label>
		<br>
		<input type="checkbox" id="legs80" value="1">
		<label for="legs80">Stream</label>
		<br>
		<input type="checkbox" id="legs81" value="1">
		<label for="legs81">Swole</label>
		<br>
		<input type="checkbox" id="legs82" value="1">
		<label for="legs82">Terminus</label>
		<br>
		<input type="checkbox" id="legs83" value="1">
		<label for="legs83">Titan</label>
		<br>
		<input type="checkbox" id="legs84" value="1">
		<label for="legs84">Versatile</label>
		<br>
		<input type="checkbox" id="legs85" value="1">
		<label for="legs85">Versatile Alt</label>
		<br>
		<input type="checkbox" id="legs86" value="1">
		<label for="legs86">Warlord</label>
		<br>
		<input type="checkbox" id="legs87" value="1">
		<label for="legs87">Fixer</label>
	    </div>
	    
	    <div class="set_block" tabindex="1">
		<span class="sdtitle">Show debug info</span><br>
		<input type="checkbox" id="bugs1" value="no" checked>
		<label for="bugs1">No</label>
		<br>
		<input type="checkbox" id="bugs2" value="yes">
		<label for="bugs2">Yes</label>
	    </div>
	    
	    <div class="set_block" tabindex="1">
		<span class="sdtitle">Character's voice (eSpeak)</span><br>
		<input type="checkbox" id="voice1" value="low" onclick="globalThis.TestVoice(this)">
		<label for="voice1">Lowest pitch</label>
		<br>
		<input type="checkbox" id="voice2" value="high" onclick="globalThis.TestVoice(this)">
		<label for="voice2">Low pitch</label>
		<br>
		<input type="checkbox" id="voice3" value="high" onclick="globalThis.TestVoice(this)" checked>
		<label for="voice3">Default</label>
		<br>
		<input type="checkbox" id="voice4" value="high" onclick="globalThis.TestVoice(this)">
		<label for="voice4">High pitch</label>
		<br>
		<input type="checkbox" id="voice5" value="high" onclick="globalThis.TestVoice(this)">
		<label for="voice5">Highest pitch</label>
		<br>
		<input type="checkbox" id="voice6" value="high" onclick="globalThis.TestVoice(this)">
		<label for="voice6">Falkok</label>
		<br>
		<input type="checkbox" id="voice7" value="high" onclick="globalThis.TestVoice(this)">
		<label for="voice7">Robotic</label>
		<br>
		<input type="checkbox" id="voice8" value="high" onclick="globalThis.TestVoice(this)">
		<label for="voice8">Council</label>
		<br>
		<input type="checkbox" id="voice9" value="high" onclick="globalThis.TestVoice(this)">
		<label for="voice9">Setr</label>
	    </div>
	    
	    <div class="set_block" tabindex="1">
		<span class="sdtitle">Camera</span><br>
		<input type="checkbox" id="camera1" value="low" checked>
		<label for="camera1">Soft</label>
		<br>
		<input type="checkbox" id="camera2" value="high">
		<label for="camera2">Fast</label>
	    </div>
	    
	    <div class="set_block" tabindex="1">
		<span class="sdtitle">Volume</span><br>
		<input type="checkbox" id="volume1" value="1">
		<label for="volume1">40%</label>
		<br>
		<input type="checkbox" id="volume2" value="1">
		<label for="volume2">25%</label>
		<br>
		<input type="checkbox" id="volume3" value="1" checked>
		<label for="volume3">10%</label>
	    </div>
	    
	    <div class="set_block" tabindex="1">
		<span class="sdtitle">Censorship</span><br>
		<input type="checkbox" id="censorship1" value="1" checked>
		<label for="censorship1">Yes</label>
		<br>
		<input type="checkbox" id="censorship2" value="0">
		<label for="censorship2">No</label>
	    </div>
	    <!--
	    <div class="set_block" tabindex="1" style="width: 485px">
		<span class="sdtitle">Other Star Defenders servers</span><br>
	    </div>
	    -->
	    <div style="position:absolute;left:20px;bottom:20px">
		
	    <input id="my_hash" type="hidden">
	    <input id="last_local_time_start" type="hidden">
	    
	    
	    <input type="button" style="background-color:#2b7939; width: 300px;" id="start_btn" onclick="sdWorld.Start( globalThis.GetPlayerSettings() );" value="Play with other players"> 
	    <input type="button" style="background-color:#333333; width: 300px;" id="start_offline_btn" onclick="sdWorld.StartOffline( globalThis.GetPlayerSettings() );" value="Play offline (does not work)"> 
	    <input type="button" onclick="globalThis.ResetSkin();" value="Reset skin to default">
	    
	    </div>
	    
	    <canvas style="position: absolute;right: 40px;top: 40px;/*border-radius: 20px;box-shadow: 0 0 0px 5px #7b321963;*/" id="skin_preview" width="128" height="128"></canvas>
	</div>

	<script>
	{
	    globalThis.connection_established = false;
	    
	    let settings_container = document.getElementById( 'settings_container' );
	    let start_btn = document.getElementById( 'start_btn' );
	    let start_offline_btn = document.getElementById( 'start_offline_btn' );
	    
	    let my_hash_input = document.getElementById( 'my_hash' );
	    
	    let inputs = [];
	    let inputs_hash = {};
	    
	    let skin_preview = document.getElementById( 'skin_preview' );
	    let ctx = skin_preview.getContext("2d");
	    ctx.imageSmoothingEnabled = false;
	    
	    globalThis.settings_container = settings_container;
	    globalThis.players_online = '...';
	    globalThis.players_playing = '...';
	    
	    let format = ( v )=>
	    {
		v += '';
		
		let p = v.length - 3;
		
		while ( p > 0 )
		{
		    v = v.slice( 0, p ) + ' ' + v.slice( p );
		    p -= 3;
		}
		
		return v;
	    };
	    
	    let draw_once = true;
	    
	    let DrawPreview = function()
	    {
		//if ( !draw_once )
		//return;
	    
		settings_container.style.transform = 'scale(' + Math.min( document.body.clientWidth / 1260, Math.min( document.body.clientHeight / 760, 1 ) ) + ')';
		
		if ( !ctx.drawImageFilterCache )
		{
		    if ( typeof sdRenderer !== 'undefined' )
		    if ( typeof sdWorld !== 'undefined' )
		    if ( typeof sdCharacter !== 'undefined' )
		    if ( typeof sdGun !== 'undefined' )
		    sdRenderer.AddCacheDrawMethod( ctx );
		}
		
		if ( !ctx.drawImageFilterCache )
		return;
	    
		if ( globalThis.socket_io_crashed && !socket.connected )
		start_btn.value = globalThis.socket_io_crashed;
		else
		{
		    let str = T('Play with {1} other players ({2} online)');
		    //start_btn.value = 'Play with ' + format( globalThis.players_playing ) + ' other players (' + format( globalThis.players_online ) + ' online)';
		    str = str.split('{1}').join( format( globalThis.players_playing ) );
		    str = str.split('{2}').join( format( globalThis.players_online ) );
		    start_btn.value = str;
		}
	    
		ctx.fillStyle = '#7b3219';
		//ctx.fillStyle = '#111111';
		ctx.fillRect( 0, 0, 128, 128 );
	    
		ctx.save();

		let ent;
		
		let preferred_entity = sdWorld.ConvertPlayerDescriptionToEntity( globalThis.GetPlayerSettings() );
		
		if ( sdWorld.allowed_player_classes.indexOf( preferred_entity ) === -1 )
		ent = new sdCharacter({ x:1, y:0 });
		else
		ent = new sdWorld.entity_classes[ preferred_entity ]({ x:1, y:0 });
		
		
		let ent2;
			
		if ( inputs_hash[ 'start_with2' ].el.checked )
		{
		    ent2 = new sdGun({ x:0, y:0, class: sdGun.CLASS_SWORD });
		    ent._inventory[ 0 ] = ent2;
		    ent2._held_by = ent;
		}
		else
		if ( inputs_hash[ 'start_with1' ].el.checked )
		{
		    ent2 = new sdGun({ x:0, y:0, class: sdGun.CLASS_PISTOL });
		    ent._inventory[ 1 ] = ent2;
		    ent2._held_by = ent;
	        }
		else
		if ( inputs_hash[ 'start_with3' ].el.checked )
		{
		    ent2 = new sdGun({ x:0, y:0, class: sdGun.CLASS_SHOVEL });
		    ent._inventory[ 0 ] = ent2;
		    ent2._held_by = ent;
	        }	
		
		
		if ( !inputs_hash[ 'start_with2' ].el.checked && !inputs_hash[ 'start_with3' ].el.checked )
		ent.gun_slot = ( sdWorld.time % 4000 ) < 2000 ? 0 : 1;
		
		//ent._an = Math.PI / 2;
		ent.look_x = -1000;
		ent.look_y = 0;
		ent.stands = true;
		ent.act_x = ( ( sdWorld.time ) % 4000 > 3000 ) ? -1 : 0;
		ent._anim_walk = ( sdWorld.time / 50 ) % 10;
		
		ent.sd_filter = sdWorld.ConvertPlayerDescriptionToSDFilter_v2( globalThis.GetPlayerSettings() );
		ent.helmet = sdWorld.ConvertPlayerDescriptionToHelmet( globalThis.GetPlayerSettings() );
		ent.body = sdWorld.ConvertPlayerDescriptionToBody( globalThis.GetPlayerSettings() );
		ent.legs = sdWorld.ConvertPlayerDescriptionToLegs( globalThis.GetPlayerSettings() );
		
		if ( sdWorld.time % 5000 < 500 )
		ent.pain_anim = 10 / ( sdWorld.time % 5000 ) / 500;
		
		if ( ( sdWorld.time + 500 ) % 2000 < 250 )
		{
		    ent.fire_anim = 5 / ( ( sdWorld.time + 500 ) % 2000 ) / 250;
		    
		    if ( !inputs_hash[ 'start_with2' ].el.checked && !inputs_hash[ 'start_with3' ].el.checked )
		    ent2.muzzle = 5 / ( ( sdWorld.time + 500 ) % 2000 ) / 250;
		}

		ctx.scale( 4,4 );
		ctx.translate( 16, 14 );

		sdShop.isDrawing = true;
		ent.Draw( ctx );
		sdShop.isDrawing = false;
		
		if ( ent._ragdoll )
		{
		    ent._ragdoll.Delete( true );
		}

		ent.remove();
		ent._remove();

		ent2.remove();
		ent2._remove();

		ctx.restore();
		
		draw_once = false;
	    };
	    globalThis.preview_fnc = DrawPreview;
	    globalThis.preview_interval = setInterval( globalThis.preview_fnc, 16 );
	    
	    let conditional_elements = [];

	    let NO_DEFAULT_VALUE_PTR = {};
	    
	    //function AcceptField( my_hash, default_v='unset' )
	    let AcceptField = ( my_hash, default_v='unset' )=>
	    {
		let obj = { 
		    el: document.getElementById( my_hash ),
		    default_value: NO_DEFAULT_VALUE_PTR
		};
		inputs.push( obj );
		inputs_hash[ obj.el.id ] = obj;
		obj.el.value = default_v;
		try {
		    let v = localStorage.getItem( my_hash );
		    if ( v !== null )
		    obj.el.value = v;
		} catch(e){}
		
		obj.el.onchange = ()=>
		{
		    globalThis.GetPlayerSettings( obj.el );

		    globalThis.SavePlayerSettings();
		};
	    };
	    
	    AcceptField( 'my_hash', [ Math.random(), Math.random(), Math.random(), Math.random(), Math.random() ].join('') );
	    AcceptField( 'last_local_time_start', 0 );
	    
	    if ( Date.now() > parseInt( document.getElementById( 'last_local_time_start' ).value ) + 1000 * 60 * 60 * 8 )
	    {
		globalThis.will_play_startup_tune = true;
	    }
			
	    //function LoopThrough( settings_container )
	    let LoopThrough = ( settings_container )=>
	    {
		for ( let i = 0; i < settings_container.childNodes.length; i++ )
		{
		    if ( settings_container.childNodes[ i ].childNodes.length > 0 )
		    {
			LoopThrough( settings_container.childNodes[ i ] );
		    }
		    
		    
		    if ( settings_container.childNodes[ i ].nodeName.charAt( 0 ) !== '#' )
		    if ( settings_container.childNodes[ i ].getAttribute( 'mycondition' ) )
		    {
			conditional_elements.push( settings_container.childNodes[ i ] );
		    }
		    
		    if ( settings_container.childNodes[ i ].nodeName === 'INPUT' )
		    if ( settings_container.childNodes[ i ].id )
		    if ( settings_container.childNodes[ i ].type !== 'button' )
		    {
			
			let obj = { 
			    el: settings_container.childNodes[ i ],
			    default_value: null
			};

			if ( obj.el.type === 'checkbox' )
			{
			    Object.defineProperty( obj.el, "value", 
			    {
				get: function()
				{ return this.checked; },
				set: function(value)
				{ 
				    value = ( value === 'true' || value === true ); // localStorage stuff
				    this.checked = value; }
			    });
			}

			if ( obj.default_value !== NO_DEFAULT_VALUE_PTR )
			obj.default_value = settings_container.childNodes[ i ].value;

			inputs.push( obj );
			inputs_hash[ settings_container.childNodes[ i ].id ] = obj;

			try {
			    let v = localStorage.getItem( obj.el.id );
			    if ( v !== null )
			    obj.el.value = v;
			} catch(e){}


			obj.el.addEventListener('change', ()=>
			{
			    globalThis.GetPlayerSettings( obj.el );

			    globalThis.SavePlayerSettings();
			});
		    }
		}
	    };
	    LoopThrough( settings_container );
	    
	    let JustOne = function( prefix, last_changed_el )
	    {
		let els = [];
		
		for ( let i = 1; inputs_hash[ prefix + i ]; i++ )
		els.push( inputs_hash[ prefix + i ].el );
	    
		let checked_tot = 0;
		
		for ( let i = 0; i < els.length; i++ )
		if ( els[ i ].checked )
		checked_tot++;
	    
		if ( checked_tot !== 1 )
		{
		    for ( let i = 0; i < els.length; i++ )
		    els[ i ].checked = ( els[ i ] === last_changed_el );
		
		    if ( last_changed_el === null )
		    els[ 0 ].checked = true;
		}
	    };
	    
	    globalThis.enable_debug_info = false;
	    
	    globalThis.GetPlayerSettings = function( last_changed_el=null, do_not_export_password=false )
	    {
		let ret = {};
		
		JustOne( 'start_with', last_changed_el );
		JustOne( 'voice', last_changed_el );
		//JustOne( 'voice_chat', last_changed_el );
		JustOne( 'hints', last_changed_el );
		JustOne( 'bugs', last_changed_el );
		//JustOne( 'visuals', last_changed_el );
		//JustOne( 'dirts', last_changed_el );
		JustOne( 'density', last_changed_el );
		JustOne( 'helmet', last_changed_el );
		JustOne( 'drone_helmet', last_changed_el );
		JustOne( 'camera', last_changed_el );
		JustOne( 'volume', last_changed_el );
		JustOne( 'body', last_changed_el );
		JustOne( 'legs', last_changed_el );
		JustOne( 'entity', last_changed_el );
		JustOne( 'censorship', last_changed_el );
		
		for ( let i = 0; i < conditional_elements.length; i++ )
		{
		    let cond = conditional_elements[ i ].getAttribute( 'mycondition' );
		    
		    conditional_elements[ i ].style.display = ( inputs_hash[ cond ].el.checked ) ? '' : 'none';
		}
		
		for ( let i = 0; i < inputs.length; i++ )
		{
		    let obj = inputs[ i ];
		    
		    if ( obj.el.value !== false )
		    ret[ obj.el.id ] = obj.el.value;
		}
		
		ret.save_file = globalThis.SavePlayerSettingsAsObject();
		
		if ( do_not_export_password )
		{
		    delete ret.save_file;
		    delete ret.my_hash;
		}
		
		sdTranslationManager.TranslateHTMLPage();
		
		return ret;
	    };
	    
	    globalThis.SavePlayerSettings = function() // Should be done after validation which is done by globalThis.GetPlayerSettings
	    {
		for ( let i = 0; i < inputs.length; i++ )
		{
		    let obj = inputs[ i ];
		    
		    try {
			localStorage.setItem( obj.el.id, obj.el.value );
		    } catch(e){}
		}
	    };
	    globalThis.SavePlayerSettingsAsObject = function() // Should be done after validation which is done by globalThis.GetPlayerSettings
	    {
		let save = {};
		
		for ( let i = 0; i < inputs.length; i++ )
		{
		    let obj = inputs[ i ];
		    save[ obj.el.id ] = obj.el.value;
		}
		
		return save;
	    };
	    globalThis.LoadPlayerSettingsFromObject = function( save ) // Should be done after validation which is done by globalThis.GetPlayerSettings
	    {
		if ( !save )
		{
		    trace( 'No save file was passed' );
		    return;
		}
		
		for ( let i = 0; i < inputs.length; i++ )
		{
		    let obj = inputs[ i ];
		    obj.el.value = save[ obj.el.id ];
		}
	    };
	    
	
	    document.getElementById( 'last_local_time_start' ).value = Date.now();
	    globalThis.SavePlayerSettings();
	    
	    
	    globalThis.ResetSkin = function()
	    {
		for ( let i = 0; i < inputs.length; i++ )
		inputs[ i ].el.value = inputs[ i ].default_value;
	     
		globalThis.GetPlayerSettings();
		globalThis.SavePlayerSettings();
	    };
	    
	    globalThis.TestVoice = function( last_changed_el, phrase='in space, nobody can hear you' )
	    {
		let s = globalThis.GetPlayerSettings( last_changed_el );
		
		let _voice = sdWorld.ConvertPlayerDescriptionToVoice( s );
		
		_voice.amplitude = sdSound.volume_speech * 100;
		_voice.voice = 'en/en';
		
		meSpeak.stop();
		meSpeak.speak( phrase, _voice );
	    };
	    
	    const SpeechRecognition = window.webkitSpeechRecognition || window.SpeechRecognition;
	    const SpeechGrammarList = window.webkitSpeechGrammarList || window.SpeechGrammarList;
	    
	    if ( SpeechRecognition )
	    {
	    
		const recognition = new SpeechRecognition();

		recognition.continuous = true;
		recognition.lang = 'en-US';
		recognition.interimResults = false;
		recognition.maxAlternatives = 1;

		let crashed = false;

		globalThis.StartVoiceRecognition = function()
		{
		    if ( inputs_hash[ 'voice_chat2' ] )
		    if ( inputs_hash[ 'voice_chat2' ].el.checked )
		    {
			recognition.start();
			crashed = false;
		    }
		};
		globalThis.StartVoiceRecognition();

		globalThis.recognition = recognition;

		recognition.onresult = function( event )
		{
		    const last = event.results.length - 1;

		    globalThis.TestVoice( null, event.results[ last ][ 0 ].transcript );

		    globalThis.socket.emit( 'CHAT', event.results[ last ][ 0 ].transcript.trim() );
		};
		recognition.onend = (e)=>
		{
		    console.log( 'onend' );
		    if ( !crashed )
		    recognition.start();
		};
		recognition.onerror = function(event) {
		  console.log( 'Error occurred in recognition: ' + event.error );
		  crashed = true;
		};
	    }
	}
	</script>
    </body>
</html>
